objs : = led_on.o start.o sys.o 

led_on.bin : led_on.elf
	arm-linux-ld -Ttext 0 start.o sys.o led_on.o -o led_on.elf
	echo "3"
	arm-linux-objcopy -O binary -S led_on.elf led_on.bin
led_on.elf : $(objs)	
	arm-linux-ld -Ttext 0 start.o sys.o led_on.o -o led_on.elf
	
led_on.o:led_on.c
	arm-linux-gcc -c -o led_on.o led_on.c

sys.o:sys.c
	aarm-linux-gcc -c -o sys.o sys.c

start.o:start.S
	arm-linux-gcc -c -o start.o start.S

clean:
	rm *.bin *.o *.elf

#.PHONY
